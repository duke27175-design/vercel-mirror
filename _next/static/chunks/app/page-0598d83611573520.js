(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7676:(e,t,r)=>{Promise.resolve().then(r.bind(r,9421))},9421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var l=r(5155),n=r(2115),a=r(5005),s=r(4477);let o=(0,s.createServerReference)("403b838ab7cd67ce4476f60e4055de62bf648d672f",s.callServer,void 0,s.findSourceMapURL,"extractPhoneNumberFromPDF");function c(e){let{onSubmit:t}=e,[r,a]=(0,n.useState)("");return(0,l.jsxs)("div",{className:"w-1/4 p-4 border-r h-screen",children:[(0,l.jsx)("textarea",{className:"w-full h-64 border p-2",value:r,onChange:e=>a(e.target.value),placeholder:'Paste array of objects with "ekey"'}),(0,l.jsx)("button",{className:"mt-4 w-full bg-blue-500 text-white py-2 rounded",onClick:()=>{try{let e=JSON.parse(r);if(e&&e.data&&Array.isArray(e.data.paginated)){let r=e.data.paginated.map(e=>e.customResumeUrl).filter(e=>!!e);t(e=>[...e,...r]),a("")}else alert("Invalid JSON structure: Missing `data.paginated` array.")}catch(e){console.error("Invalid JSON format:",e),alert("Invalid JSON format")}},children:"Submit"})]})}function d(e){var t;let{url:r,onClick:n}=e,a=null==(t=r.split(".").pop())?void 0:t.toLowerCase(),s="pdf"===a,o="docx"===a,c="https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(r));return(0,l.jsxs)("div",{className:"border rounded shadow p-2 cursor-pointer",onClick:n,children:[s&&(0,l.jsx)("iframe",{src:r,className:"w-full h-64 border-none",title:"CV PDF Viewer"}),o&&(0,l.jsx)("iframe",{src:c,className:"w-full h-64 border-none",title:"CV DOCX Viewer"}),!s&&!o&&(0,l.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[(0,l.jsx)("p",{children:"Unsupported format"}),(0,l.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Download file"})]})]})}function i(e){let{urls:t,onItemClick:r}=e;return(0,l.jsx)("div",{className:"w-3/4 p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 overflow-y-auto h-screen",children:t.map((e,t)=>(0,l.jsx)(d,{url:e,onClick:()=>r(t)},t))})}function u(e){let{urls:t,currentIndex:r,onClose:s,setSelectedIndex:o}=e,c=(0,n.useRef)(null),[d,i]=(0,a.A)({loop:!1});return(0,n.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,n.useEffect)(()=>{i&&i.scrollTo(r),console.log(i)},[i,r]),(0,n.useEffect)(()=>{if(!i)return;let e=()=>{o(i.selectedScrollSnap())};return i.on("select",e),e(),()=>{i.off("select",e)}},[i]),(0,l.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:[(0,l.jsxs)("div",{className:"absolute top-3 right-1/2 transform translate-x-1/2",children:[r+1," / ",t.length]}),(0,l.jsxs)("div",{className:"w-full h-full lg:w-4/5 lg:h-4/5 bg-white rounded shadow relative",ref:c,children:[(0,l.jsx)("div",{className:"overflow-hidden w-full h-full",ref:d,children:(0,l.jsx)("div",{className:"flex w-full h-full",children:t.map((e,t)=>{var r;let n=null==(r=e.split(".").pop())?void 0:r.toLowerCase(),a="pdf"===n,s="docx"===n,o="https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(e));return(0,l.jsxs)("div",{className:"flex-[0_0_100%] flex justify-center items-center w-full h-full bg-gray-100",children:[a&&(0,l.jsx)("iframe",{src:e,title:"CV ".concat(t),className:"w-full h-full border-none"}),s&&(0,l.jsx)("iframe",{src:o,title:"CV ".concat(t," - DOCX"),className:"w-full h-full border-none"}),!a&&!s&&(0,l.jsxs)("div",{className:"text-center text-black",children:[(0,l.jsx)("p",{children:"Unsupported file format"}),(0,l.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Download instead"})]})]},t)})})}),(0,l.jsx)("button",{onClick:()=>null==i?void 0:i.scrollPrev(),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white text-black px-2 py-1 rounded shadow hover:bg-gray-200 z-10",children:"Prev"}),(0,l.jsx)("button",{onClick:()=>null==i?void 0:i.scrollNext(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white text-black px-2 py-1 rounded shadow hover:bg-gray-200 z-10",children:"Next"}),(0,l.jsx)("button",{onClick:s,className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 z-10",children:"âœ•"})]})]})}function f(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(null),s=async()=>{let t=new Set;if(0===e.length)return;for(let r of e)try{(await o(r)).forEach(e=>t.add(e))}catch(e){console.warn("Failed to extract from ".concat(r),e)}let r=new Blob([Array.from(t).join("\n")||"No phone numbers found."],{type:"text/plain"}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download="phone_numbers.txt",document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(c,{onSubmit:t}),(0,l.jsx)(i,{urls:e,onItemClick:a}),null!==r&&(0,l.jsx)(u,{setSelectedIndex:a,urls:e,currentIndex:r,onClose:()=>a(null)}),(0,l.jsx)("button",{onClick:s,className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-full shadow-lg hover:bg-green-700 z-50",children:"\uD83D\uDCE5 Download Numbers"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[729,441,684,358],()=>t(7676)),_N_E=e.O()}]);
